import{_ as e,d as a,N as t,e as l,ap as n,u as s,a as u,c as o,b as r,R as i,f as c,o as d,a1 as p,w as v,aq as m,i as g,t as f,h as y,j as _,g as h,$ as w,ar as b}from"./index.cd67839e.js";import{N,u as x}from"./useReduceFn.86e5a14d.js";import{N as z}from"./Space.0eece4c8.js";import{N as U}from"./Divider.db043493.js";import{u as j}from"./use-notification.bcb9ee04.js";import"./get-slot.65c4337d.js";const C=a({name:"User",components:{NInput:t,NSpace:z,NDivider:U,NButton:l,NSpin:N,NPopover:n},setup(){const e=s(),a=u(),t=o(""),l=o(""),n=o(""),c=o(""),d=o(""),p=o(!0),v=o("修改信息"),g=j(),{t:f}=r();let y=o(!1);i((()=>{c.value=e.state.user.userid,t.value=e.state.user.username,l.value=e.state.user.password,n.value=e.state.user.email,d.value=1===e.state.user.gender?"男":"女",p.value=!1}));const{saveSetting:_}=x(),h=async()=>{let e=null;var a,n;"修改信息"==v.value&&(e=await m({userId:c.value,username:t.value,password:l.value})),console.log(e),200==e.status&&(a="success",n=e.message,g[a]({content:n,duration:1500})),p.value=!1};return{cancelable:y,handleLogOut:function(){y.value?(e.commit("user/USER_LOGOUT"),a.push("/login")):y.value=!0},cancleLogOut:function(){y.value=!1},t:f,btnText:v,username:t,password:l,email:n,userid:c,gender:d,saveContent:async()=>{p.value=!0,await _(h),p.value=!1},loading:p}}}),O={class:"container"},k={class:"header"},L=_(" id值: "),S=_(" 邮箱: "),I=_(" 性别: "),R=_(" 用户: "),T=_(" 密码: "),D=_(" , ");var q=e(C,[["render",function(e,a,t,l,n,s){const u=c("n-divider"),o=c("n-input"),r=c("n-space"),i=c("n-button"),m=c("n-spin");return d(),p(m,{size:"large",show:e.loading},{default:v((()=>[g("div",O,[g("div",k,[g("h3",null,f(e.t("common.hi"))+", "+f(e.username),1)]),y(u),y(r,{vertical:"",align:"center",size:e.distance},{default:v((()=>[y(r,{align:"center"},{default:v((()=>[L,y(o,{value:e.userid,"onUpdate:value":a[0]||(a[0]=a=>e.userid=a),type:"text",size:"large",placeholder:"请输入..",readonly:""},null,8,["value"])])),_:1}),y(r,{align:"center"},{default:v((()=>[S,y(o,{value:e.email,"onUpdate:value":a[1]||(a[1]=a=>e.email=a),type:"text",size:"large",placeholder:"请输入..",readonly:""},null,8,["value"])])),_:1}),y(r,{align:"center"},{default:v((()=>[I,y(o,{value:e.gender,"onUpdate:value":a[2]||(a[2]=a=>e.gender=a),type:"text",size:"large",placeholder:"请输入..",readonly:""},null,8,["value"])])),_:1}),y(r,{align:"center"},{default:v((()=>[R,y(o,{value:e.username,"onUpdate:value":a[3]||(a[3]=a=>e.username=a),type:"text",size:"large",placeholder:"请输入.."},null,8,["value"])])),_:1}),y(r,{align:"center"},{default:v((()=>[T,y(o,{value:e.password,"onUpdate:value":a[4]||(a[4]=a=>e.password=a),type:"text",size:"large",placeholder:"请输入.."},null,8,["value"])])),_:1}),y(r,null,{default:v((()=>[y(i,{strong:"",secondary:"",type:"primary",onClick:e.saveContent},{default:v((()=>[_(f(e.btnText),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["size"]),y(u),g("p",null,[g("a",{onClick:a[5]||(a[5]=(...a)=>e.handleLogOut&&e.handleLogOut(...a))},[y(i,{strong:"",secondary:"",type:"primary"},{default:v((()=>[_(f(e.cancelable?e.t("common.confirm"):e.t("common.sign_out")+"账户"),1)])),_:1})]),e.cancelable?(d(),h(w,{key:0},[D,y(i,{strong:"",secondary:"",type:"warning",onClick:e.cancleLogOut},{default:v((()=>[_(f(e.t("common.cancel")),1)])),_:1},8,["onClick"])],64)):b("",!0)])])])),_:1},8,["show"])}],["__scopeId","data-v-0699dfa1"]]);export{q as default};
