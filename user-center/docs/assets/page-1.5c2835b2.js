import{aP as e,_ as t,d as a,N as n,e as s,ap as l,u as o,c as u,R as i,f as r,o as d,g as c,h as p,w as v,$ as m,p as f,k as g,i as h,j as C,t as b}from"./index.f7d30468.js";import{N as y,u as j}from"./useReduceFn.d154d423.js";import{H as N}from"./HelpButton.892c2798.js";import{N as _}from"./Space.6d27ec07.js";import{N as w}from"./Divider.d7e00e05.js";import{u as x}from"./use-notification.3d02f42e.js";import"./get-slot.65c4337d.js";const z=a({components:{NInput:n,NSpace:_,NDivider:w,NButton:s,NSpin:y,NPopover:l,HelpButton:N},setup(){const t=o(),a=u(!0),n=u(""),s=u(""),l=u(""),r=x(),d=u(!1),c=u("");i((async()=>{let o=await function(t){return e({url:"/getinfo/1",method:"post",data:t})}({userId:t.state.user.userid});console.log(o);let u=o.data;u?(n.value=u.themeContent,s.value=u.description,l.value=u.btnContent,c.value="修改设置"):c.value="保存设置",a.value=!1}));const{saveSetting:p}=j(),v=async()=>{let o=null;var u,i,d;"保存设置"==c.value?(o=await(u={userId:t.state.user.userid,themeContent:n.value,description:s.value,btnContent:l.value},e({url:"/createinfo/1",method:"post",data:u})),c.value="修改设置"):"修改设置"==c.value&&(o=await function(t){return e({url:"/updateinfo/1",method:"post",data:t})}({userId:t.state.user.userid,themeContent:n.value,description:s.value,btnContent:l.value})),console.log(o),200==o.status&&(i="success",d=o.message,r[i]({content:d,duration:1500})),a.value=!1};return{btnText:c,loading:a,themeContent:n,description:s,btnContent:l,saveContent:async()=>{a.value=!0,await p(v),a.value=!1},tipEvent:async()=>{d.value=!0},distance:u(18)}}}),I=(e=>(f("data-v-1c01a7dd"),e=e(),g(),e))((()=>h("h2",null,"第一页 - 网站首页",-1))),S={class:"container"},k=C(" 网站主题: "),B=C(" 网站描述: "),H=C(" 按钮文本: ");var U=t(z,[["render",function(e,t,a,n,s,l){const o=r("n-divider"),u=r("n-input"),i=r("n-space"),f=r("help-button"),g=r("n-button"),y=r("n-spin");return d(),c(m,null,[I,p(y,{size:"large",show:e.loading},{default:v((()=>[h("div",S,[p(o),p(i,{vertical:"",align:"center",size:e.distance},{default:v((()=>[p(i,{align:"center"},{default:v((()=>[k,p(u,{value:e.themeContent,"onUpdate:value":t[0]||(t[0]=t=>e.themeContent=t),type:"text",size:"large",placeholder:"网站主题"},null,8,["value"])])),_:1}),p(i,{align:"center"},{default:v((()=>[B,p(u,{value:e.description,"onUpdate:value":t[1]||(t[1]=t=>e.description=t),type:"text",size:"large",placeholder:"网站描述"},null,8,["value"])])),_:1}),p(i,{align:"center"},{default:v((()=>[H,p(u,{value:e.btnContent,"onUpdate:value":t[2]||(t[2]=t=>e.btnContent=t),type:"text",size:"large",placeholder:"按钮文本内容"},null,8,["value"])])),_:1}),p(i,null,{default:v((()=>[p(f,{picSrc:"https://tva1.sinaimg.cn/large/e6c9d24ely1h2botc85zij213k0l8wgc.jpg",place:"left-start",heightValue:"365",widthValue:"570"}),p(g,{strong:"",secondary:"",type:"primary",onClick:e.saveContent},{default:v((()=>[C(b(e.btnText),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["size"])])])),_:1},8,["show"])],64)}],["__scopeId","data-v-1c01a7dd"]]);export{U as default};
